<!doctype html><html class="theme-next muse use-motion"><head><!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="BGEL63KNRW25AkpCy3shpRdMWDHE9LZTAFS3XSHtFK8"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css"><meta name="keywords" content="Redmine,Apache2,MySQL,"><link rel="alternate" href="/atom.xml" title="Yuthon's blog" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2"><meta name="description" content="最近实验室要搞团队协作与项目管理，所以梅老板派我去装个 Redmine。
本文参考了 HowTo Install Redmine on Ubuntu step by step) 这篇官网的文章，并且根据实际情况有所改动。
安装首先自然是安装 Redmine 以及相关依赖：
123$ sudo apt-get install apache2 libapache2-mod-passenger$ sud"><meta property="og:type" content="article"><meta property="og:title" content="Redmine configuration on Ubuntu 14.04"><meta property="og:url" content="http://www.yuthon.com/2016/09/15/Redmine-Configuration-on-Ubuntu-14-04/index.html"><meta property="og:site_name" content="Yuthon's blog"><meta property="og:description" content="最近实验室要搞团队协作与项目管理，所以梅老板派我去装个 Redmine。
本文参考了 HowTo Install Redmine on Ubuntu step by step) 这篇官网的文章，并且根据实际情况有所改动。
安装首先自然是安装 Redmine 以及相关依赖：
123$ sudo apt-get install apache2 libapache2-mod-passenger$ sud"><meta property="og:updated_time" content="2016-09-18T03:40:37.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Redmine configuration on Ubuntu 14.04"><meta name="twitter:description" content="最近实验室要搞团队协作与项目管理，所以梅老板派我去装个 Redmine。
本文参考了 HowTo Install Redmine on Ubuntu step by step) 这篇官网的文章，并且根据实际情况有所改动。
安装首先自然是安装 Redmine 以及相关依赖：
123$ sudo apt-get install apache2 libapache2-mod-passenger$ sud"><script type="text/javascript" id="hexo.configuration">var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    }
  };</script><link rel="canonical" href="http://www.yuthon.com/2016/09/15/Redmine-Configuration-on-Ubuntu-14-04/"><title>Redmine configuration on Ubuntu 14.04 | Yuthon's blog</title><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body itemscope itemtype="//schema.org/WebPage" lang="en"><!-- hexo-inject:begin --><!-- hexo-inject:end --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-76233259-1', 'auto');
  ga('send', 'pageview');</script><div class="container one-collumn sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="//schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Yuthon's blog</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section">Home</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section">Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section">Archives</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section">Tags</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="//schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline">Redmine configuration on Ubuntu 14.04</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time itemprop="dateCreated" datetime="2016-09-15T19:02:37+08:00" content="2016-09-15">2016-09-15 </time></span><span class="post-updated">&nbsp; | &nbsp; Updated on <time itemprop="dateUpdated" datetime="2016-09-18T11:40:37+08:00" content="2016-09-18">2016-09-18 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/Experience/" itemprop="url" rel="index"><span itemprop="name">Experience</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>最近实验室要搞团队协作与项目管理，所以梅老板派我去装个 Redmine。</p><p>本文参考了 <a href="[http://www.redmine.org/projects/redmine/wiki/HowTo_Install_Redmine_on_Ubuntu_step_by_step](http://www.redmine.org/projects/redmine/wiki/HowTo_Install_Redmine_on_Ubuntu_step_by_step">HowTo Install Redmine on Ubuntu step by step</a>) 这篇官网的文章，并且根据实际情况有所改动。</p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>首先自然是安装 Redmine 以及相关依赖：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install apache2 libapache2-mod-passenger</div><div class="line">$ sudo apt-get install mysql-server mysql-client</div><div class="line">$ sudo apt-get install redmine redmine-mysql</div></pre></td></tr></table></figure><p>只得注意的是，安装 MySQL 的时候会要求设置数据库<code>root</code>用户的密码，这个密码在之后安装 Redmine 的时候需要。</p><a id="more"></a><p>同时注意安装<code>bundler</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo gem update</div><div class="line">$ sudo gem install bundler</div></pre></td></tr></table></figure><p>这时候 Redmine 应该已经可用了，可以到<code>/usr/share/redmine</code>下直接用 WEBrick 来测试</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ sudo bundle exec ruby script/rails server webrick -e production</div><div class="line">=&gt; Booting WEBrick</div><div class="line">=&gt; Rails 3.2.16 application starting in production on http://0.0.0.0:3000</div><div class="line">=&gt; Call with -d to detach</div><div class="line">=&gt; Ctrl-C to shutdown server</div><div class="line">[2016-09-15 00:18:34] INFO  WEBrick 1.3.1</div><div class="line">[2016-09-15 00:18:34] INFO  ruby 1.9.3 (2013-11-22) [x86_64-linux]</div><div class="line">[2016-09-15 00:18:34] INFO  WEBrick::HTTPServer#start: pid=12337 port=3000</div></pre></td></tr></table></figure><p>能用的话，我们接下来来配置 Apache。</p><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><ol><li><p>首先打开<code>/etc/apache2/mods-available/passenger.conf</code>，加一行<code>PassengerDefaultUser www-data</code>。之后整个文件看起来是这样：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;IfModule mod_passenger.c&gt;</div><div class="line">  PassengerDefaultUser www-data</div><div class="line">  PassengerRoot /usr/lib/ruby/vendor_ruby/phusion_passenger/locations.ini</div><div class="line">  PassengerDefaultRuby /usr/bin/ruby</div><div class="line">&lt;/IfModule&gt;</div></pre></td></tr></table></figure></li><li><p>然后创建软链接，把 Redmine 的文件目录和 Apache 的根目录连起来</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo ln -s /usr/share/redmine/public /var/www/html/redmine</div></pre></td></tr></table></figure></li><li><p>接下来编辑<code>/etc/apache2/sites-available/000-default.conf</code>，把以下内容插在<code>&lt;VirtualHost&gt;...&lt;/VirtualHost&gt;</code>之间。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;Directory /var/www/html/redmine&gt;</div><div class="line">    RailsBaseURI /redmine</div><div class="line">    PassengerResolveSymlinksInDocumentRoot on</div><div class="line">&lt;/Directory&gt;</div></pre></td></tr></table></figure><p>由于我手上的这台服务器的 80 端口被 Gitlab 占着，所以还需要换个端口，比如1234（不要忘了同时修改<code>/etc/apache2/ports.conf</code>中的监听端口号）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;VirtualHost *:1234&gt;</div></pre></td></tr></table></figure><p>同时，还可以设置服务器的地址：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ServerName localhost</div></pre></td></tr></table></figure><p>最后改完的<code>/etc/apache2/sites-available/000-default.conf</code>看起来如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;VirtualHost *:1234&gt;</div><div class="line">        ServerAdmin webmaster@localhost</div><div class="line">        DocumentRoot /var/www</div><div class="line">        ServerName localhost</div><div class="line">        </div><div class="line">        ErrorLog $&#123;APACHE_LOG_DIR&#125;/error.log</div><div class="line">        CustomLog $&#123;APACHE_LOG_DIR&#125;/access.log combined</div><div class="line">        </div><div class="line">        &lt;Directory /var/www/html/redmine&gt;</div><div class="line">                RailsBaseURI /redmine</div><div class="line">                PassengerResolveSymlinksInDocumentRoot on</div><div class="line">        &lt;/Directory&gt;</div><div class="line">&lt;/VirtualHost&gt;</div></pre></td></tr></table></figure></li><li><p>创建并修改Gemfile.lock的权限：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo touch /usr/share/redmine/Gemfile.lock</div><div class="line">$ sudo chown www-data:www-data /usr/share/redmine/Gemfile.lock</div></pre></td></tr></table></figure></li><li><p>修改<code>/etc/apache2/apache2.conf</code>，添加一行设置 Passenger 的根目录。不然只能访问到 Redmine 下的文件目录。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">PassengerAppRoot /usr/share/redmine</div></pre></td></tr></table></figure></li><li><p>重启 Apache：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service apache2 restart</div></pre></td></tr></table></figure></li><li><p>此时已经可以直接通过浏览器访问 <a href="http://127.0.0.1:1234" target="_blank" rel="external">http://127.0.0.1:1234</a> 了。</p></li></ol><p>后续配置持续更新中</p></div><div></div><div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Redmine/" rel="tag">#Redmine</a> <a href="/tags/Apache2/" rel="tag">#Apache2</a> <a href="/tags/MySQL/" rel="tag">#MySQL</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2016/09/10/Coursera-Machine-Learning-Week-6/" rel="next" title="Notes for Machine Learning - Week 6"><i class="fa fa-chevron-left"></i> Notes for Machine Learning - Week 6</a></div><div class="post-nav-prev post-nav-item"><a href="/2016/10/06/Coursera-Algorithm-Design-Analysis-Week-1/" rel="prev" title="Notes for Algorithm Design and Analysis - Week 1">Notes for Algorithm Design and Analysis - Week 1 <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="post-spread"></div></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview">Overview</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person"><img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="Yusu Pan"><p class="site-author-name" itemprop="name">Yusu Pan</p><p class="site-description motion-element" itemprop="description">We've been gaining one good thing through losing another.</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">30</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories"><span class="site-state-item-count">5</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags"><span class="site-state-item-count">37</span> <span class="site-state-item-name">tags</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/corenel" target="_blank" title="Github"><i class="fa fa-fw fa-globe"></i> Github </a></span><span class="links-of-author-item"><a href="https://twitter.com/corenel" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i> Twitter </a></span><span class="links-of-author-item"><a href="http://www.zhihu.com/people/pan-yu-su" target="_blank" title="Zhihu"><i class="fa fa-fw fa-zhihu"></i> Zhihu</a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#安装"><span class="nav-number">1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#配置"><span class="nav-number">2.</span> <span class="nav-text">配置</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2015 - <span itemprop="copyrightYear">2016</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Yusu Pan</span></div><div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div><div class="theme-info">Theme - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script><script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });</script><script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>